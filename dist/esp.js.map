{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3a047c4d401b2b6096aa","webpack:///./src/index.js","webpack:///./src/router/ObservationStage.js","webpack:///./src/router/Router.js","webpack:///./src/router/EventContext.js","webpack:///./src/system/index.js","webpack:///./src/system/disposables/index.js","webpack:///./src/system/disposables/CompositeDisposable.js","webpack:///./src/system/Guard.js","webpack:///./src/system/utils.js","webpack:///./src/system/disposables/DisposableWrapper.js","webpack:///./src/system/disposables/DictionaryDisposable.js","webpack:///./src/system/logger.js","webpack:///./src/router/ModelRecord.js","webpack:///./src/router/State.js","webpack:///./src/router/Status.js","webpack:///./src/router/SingleModelRouter.js","webpack:///./src/reactive/index.js","webpack:///./src/reactive/extMethods/where.js","webpack:///./src/reactive/Observable.js","webpack:///./src/reactive/Observer.js","webpack:///./src/reactive/extMethods/asObservable.js","webpack:///./src/reactive/extMethods/take.js","webpack:///./src/reactive/extMethods/do.js","webpack:///./src/reactive/Subject.js","webpack:///./src/model/events/index.js","webpack:///./src/model/events/AsyncWorkCompleteEvent.js","webpack:///./src/model/events/ModelChangedEvent.js","webpack:///./src/model/index.js","webpack:///./src/model/DisposableBase.js","webpack:///./src/model/ModelBase.js","webpack:///./src/model/ModelRootBase.js"],"names":[],"mappings":"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","file":"esp.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"esp\"] = factory();\n\telse\n\t\troot[\"esp\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3a047c4d401b2b6096aa\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nexports.ObservationStage = require('./router/ObservationStage');\nexports.Router = require('./router/Router');\nexports.SingleModelRouter = require('./router/SingleModelRouter');\nexports.model = require('./model');\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/index.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\n\nclass ObservationStage {\n    static get preview() { return  'preview'; }\n    static get normal() { return  'normal'; }\n    static get committed() { return  'committed'; }\n}\n\nexport default ObservationStage;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/ObservationStage.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport EventContext from './EventContext';\nimport ObservationStage from './ObservationStage';\nimport ModelRecord from './ModelRecord';\nimport State from './State.js';\nimport Status from './Status.js';\nimport SingleModelRouter from './SingleModelRouter.js';\nimport { Subject, Observable } from '../reactive/index';\nimport { ModelChangedEvent } from '../model/events/index';\nimport { Guard, utils, logger } from '../system';\nimport { CompositeDisposable } from '../system/disposables/index';\n\nvar _log = logger.create('Router');\n\nexport default class Router {\n    constructor() {\n        this._models = {};\n        this._modelUpdateSubjects = {};\n        this._modelEventSubjects = {};\n        this._haltingException = undefined;\n        this._state = new State();\n    }\n    registerModel(modelId, model, options) {\n        this._throwIfHalted();\n        Guard.isString(modelId, 'The modelId argument should be a string');\n        Guard.isDefined(model, 'THe model argument must be defined');\n        if(options) Guard.isObject(options, 'The options argument should be an object');\n        Guard.isFalsey(this._models[modelId], 'The model with id [' + modelId + '] is already registered');\n        this._models[modelId] = new ModelRecord(modelId, model, options);\n    }  \n    removeModel(modelId){\n        Guard.isString(modelId, 'The modelId argument should be a string');\n        let modelRecord = this._models[modelId];\n        if(modelRecord){\n            modelRecord.wasRemoved = true;\n            delete this._models[modelId];\n            modelRecord.eventQueue.length = 0;\n            let modelUpdateSubjects = this._modelUpdateSubjects[modelId];\n            if(modelUpdateSubjects) {\n                delete this._modelUpdateSubjects[modelId];\n                modelUpdateSubjects.onCompleted();\n            }\n            let modelEventSubjects = this._modelEventSubjects[modelId];\n            if(modelEventSubjects) {\n                delete this._modelEventSubjects[modelId];\n                for (let p in modelEventSubjects) {\n                    if(modelEventSubjects.hasOwnProperty(p)) {\n                        let eventSubjects = modelEventSubjects[p];\n                        eventSubjects.preview.onCompleted();\n                        eventSubjects.normal.onCompleted();\n                        eventSubjects.committed.onCompleted();\n                    }\n                }\n            }\n        }\n    }\n    publishEvent(modelId, eventType, event) {\n        Guard.isString(modelId, 'The modelId argument should be a string');\n        Guard.isString(eventType, 'The eventType argument should be a string');\n        Guard.isDefined(event, 'The event argument must be defined');\n        this._throwIfHalted();\n        if (this._state.currentStatus === Status.EventExecution) {\n            throw new Error('You can not publish further events when performing an event execution. modelId1: [' + modelId + '], eventType:[' + eventType + ']');\n        }\n        this._eventQueue(modelId, eventType, event);\n        this._purgeEventQueues();\n    }\n    broadcastEvent(eventType, event) {\n        Guard.isString(eventType, 'The eventType argument should be a string');\n        Guard.isDefined(event, 'The event argument should be defined');\n        for (let modelId in this._models) {\n            if (this._models.hasOwnProperty(modelId)) {\n                this._eventQueue(modelId, eventType, event);\n            }\n        }\n        this._purgeEventQueues();\n    }\n    executeEvent(eventType, event) {\n        this._throwIfHalted();\n        Guard.isString(eventType, 'The eventType argument should be a string');\n        Guard.isDefined(event, 'The event argument should be defined');\n\n        this._state.executeEvent(() => {\n            let eventContext = new EventContext(\n                this._state.currentModelId,\n                eventType,\n                event\n            );\n            this._dispatchEventToEventProcessors(\n                this._state.currentModelId,\n                this._state.currentModel,\n                event,\n                eventType,\n                eventContext\n            );\n        });\n    }\n    runAction(modelId, action) {\n        this._throwIfHalted();\n        let modelRecord = this._models[modelId];\n        if (typeof modelRecord === 'undefined') {\n            throw new Error('Can not run action as model with id [' + modelId + '] not registered');\n        } else {\n            modelRecord.eventQueue.push({eventType: '__runAction', action: action});\n            this._purgeEventQueues();\n        }\n    }\n    getEventObservable(modelId, eventType, stage) {\n        return Observable.create(o => {\n            this._throwIfHalted();\n            Guard.isString(modelId, 'The modelId argument should be a string');\n            Guard.isDefined(modelId, 'The modelId argument should be defined');\n            Guard.isDefined(eventType, 'The eventType argument should be defined');\n\n            if(stage) {\n                Guard.isString(stage, 'The stage argument should be a string');\n                Guard.isTrue(stage === ObservationStage.preview || stage === ObservationStage.normal || stage === ObservationStage.committed, 'The stage argument value of [' + stage + '] is incorrect. It should be preview, normal or committed.');\n            } else {\n                stage = ObservationStage.normal;\n            }\n            let subjects = this._getModelsEventSubjects(modelId, eventType);\n            let subject = subjects[stage];\n            return subject.observe(o);\n        });\n    }\n    getModelObservable(modelId) {\n        return Observable.create(o => {\n            this._throwIfHalted();\n            Guard.isString(modelId, 'The modelId should be a string');\n\n            let updateSubject = this._modelUpdateSubjects[modelId];\n            if (typeof updateSubject === 'undefined') {\n                updateSubject = new Subject();\n                this._modelUpdateSubjects[modelId] = updateSubject;\n            }\n            return updateSubject.observe(o);\n        });\n    }\n    createModelRouter(targetModelId) {\n        Guard.isString(targetModelId, 'The targetModelId argument should be a string');\n        return new SingleModelRouter(this, targetModelId);\n    }\n    observeEventsOn(modelId, object, methodPrefix='_observe_') {\n        var disposables = new CompositeDisposable();\n        // note this won't work with ES6 methods as they're not enumerable!!. Will perhaps need to use directives\n        for (let prop in object) {\n            if (prop.startsWith(methodPrefix)) {\n                let stage = ObservationStage.normal;\n                let eventName = prop.replace(methodPrefix, '');\n                let observationStageSplitIndex = eventName.lastIndexOf('_');\n                if(observationStageSplitIndex > 0) {\n                    let stageSubstring = eventName.substring(observationStageSplitIndex + 1);\n                    let stageSpecified = false;\n                    if(stageSubstring === ObservationStage.preview) {\n                        stage = ObservationStage.preview;\n                        stageSpecified = true;\n                    } else if (stageSubstring === ObservationStage.normal) {\n                        stage = ObservationStage.normal;\n                        stageSpecified = true;\n                    } else if (stageSubstring === ObservationStage.committed) {\n                        stage = ObservationStage.committed;\n                        stageSpecified = true;\n                    }\n                    if(stageSpecified){\n                        eventName = eventName.substring(0, observationStageSplitIndex);\n                    }\n                }\n                disposables.add(this.getEventObservable(modelId, eventName, stage).observe((m, e, c) => {\n                    object[prop](m, e, c);\n                }));\n            }\n        }\n        return disposables;\n    }\n    _eventQueue(modelId, eventType, event) {\n        // don't enqueue a model changed event for the same model that changed\n        if(eventType === 'modelChangedEvent' && event.modelId === modelId)\n            return; \n        let modelRecord = this._models[modelId];\n        if (typeof modelRecord === 'undefined') {\n            throw new Error('Can not publish event of type [' + eventType + '] as model with id [' + modelId + '] not registered');\n        } else {\n            try {\n                let shouldEnqueue = false;\n                let modelEventSubject = this._modelEventSubjects[modelId];\n                // only enqueue if the model has observers for the given event type\n                if (typeof modelEventSubject !== 'undefined') {\n                    if(modelEventSubject.hasOwnProperty(eventType)) {\n                        shouldEnqueue = true;\n                    }\n                }\n                if(shouldEnqueue) {\n                    modelRecord.eventQueue.push({eventType: eventType, event: event});\n                    this._purgeEventQueues();\n                }\n            } catch (err) {\n                this._halt(err);\n            }\n        }\n    }\n    _getModelsEventSubjects(modelId, eventType) {\n        let modelEventSubject = this._modelEventSubjects[modelId];\n        if (typeof modelEventSubject === 'undefined') {\n            modelEventSubject = {};\n            this._modelEventSubjects[modelId] = modelEventSubject;\n        }\n        let subjects = modelEventSubject[eventType];\n        if (typeof subjects === 'undefined') {\n            subjects = {\n                preview: new Subject(),\n                normal: new Subject(),\n                committed: new Subject()\n            };\n            modelEventSubject[eventType] = subjects;\n        }\n        return subjects;\n    }\n    _purgeEventQueues() {\n        if (this._state.currentStatus === Status.Idle) {\n            let modelRecord = this._getNextModelRecordWithQueuedEvents();\n            let hasEvents = typeof modelRecord !== 'undefined';\n            while (hasEvents) {\n                while (hasEvents) {\n                    this._state.moveToPreProcessing(modelRecord.modelId, modelRecord.model);\n                    let eventRecord = modelRecord.eventQueue.shift();\n                    if (modelRecord.model.unlock && typeof modelRecord.model.unlock === 'function') {\n                        modelRecord.model.unlock();\n                    }\n                    var eventContext = new EventContext();\n                    modelRecord.runPreEventProcessor(modelRecord.model);\n                    if (!modelRecord.wasRemoved) {\n                        if (!eventContext.isCanceled) {\n                            this._state.moveToEventDispatch();\n                            while (hasEvents) {\n                                let wasDispatched = true;\n                                if(eventRecord.eventType === '__runAction') {\n                                    eventRecord.action(modelRecord.model);\n                                } else {\n                                    wasDispatched = this._dispatchEventToEventProcessors(modelRecord.modelId, modelRecord.model, eventRecord.event, eventRecord.eventType, eventContext);\n                                }\n                                if (modelRecord.wasRemoved) break;\n                                if (!modelRecord.hasChanges && wasDispatched) {\n                                    modelRecord.hasChanges = true;\n                                }\n                                hasEvents = modelRecord.eventQueue.length > 0;\n                                if (hasEvents) {\n                                    eventRecord = modelRecord.eventQueue.shift();\n                                    eventContext = new EventContext();\n                                }\n                            } // keep looping until any events from the dispatch to processors stage are processed\n                        }\n                        if (!modelRecord.wasRemoved) {\n                            this._state.moveToPostProcessing();\n                            modelRecord.runPostEventProcessor(modelRecord.model);\n                            if (modelRecord.model.lock && typeof modelRecord.model.lock === 'function') {\n                                modelRecord.model.lock();\n                            }\n                        }\n                    }\n                    this.broadcastEvent('modelChangedEvent', new ModelChangedEvent(modelRecord.modelId, eventRecord.eventType));\n                    modelRecord = this._getNextModelRecordWithQueuedEvents();\n                    hasEvents = typeof modelRecord !== 'undefined';\n                }  // keep looping until any events raised during post event processing OR event that have come in for other models are processed\n                this._state.moveToDispatchModelUpdates();\n                this._dispatchModelUpdates();\n                modelRecord = this._getNextModelRecordWithQueuedEvents();\n                hasEvents = typeof modelRecord !== 'undefined';\n            } // keep looping until any events from the dispatch updates stages are processed\n            this._state.moveToIdle();\n        }\n    }\n    _dispatchEventToEventProcessors(modelId, model, event, eventType, eventContext) {\n        let dispatchEvent = (model1, event1, context, subject) => {\n            let wasDispatched = false;\n            if (subject.getObserverCount() > 0) {\n                // note: if the model was removed by an observer the subject will be completed so subsequent observers won't get the event\n                subject.onNext(model1, event1, context);\n                if(subject.hasError) {\n                    throw subject.error;\n                }\n                wasDispatched = true;\n            }\n            return wasDispatched;\n        };\n\n        let eventSubjects = this._getModelsEventSubjects(modelId, eventType);\n        let wasDispatched = dispatchEvent(model, event, eventContext, eventSubjects.preview);\n        if (eventContext.isCommitted) {\n            throw new Error('You can\\'t commit an event at the preview stage. Event: [' + eventContext.eventType + '], ModelId: [' + modelId + ']');\n        }\n        if (!eventContext.isCanceled) {\n            wasDispatched = dispatchEvent(model, event, eventContext, eventSubjects.normal);\n            if (eventContext.isCanceled) {\n                throw new Error('You can\\'t cancel an event at the normal stage. Event: [' + eventContext.eventType + '], ModelId: [' + modelId + ']');\n            }\n            if (wasDispatched && eventContext.isCommitted) {\n                dispatchEvent(model, event, eventContext, eventSubjects.committed);\n                if (eventContext.isCanceled) {\n                    throw new Error('You can\\'t cancel an event at the committed stage. Event: [' + eventContext.eventType + '], ModelId: [' + modelId + ']');\n                }\n            }\n        }\n        return wasDispatched;\n    }\n    _dispatchModelUpdates() {\n        let updates = [], modelUpdateSubject;\n        for (let modelId in this._models) {\n            if (this._models.hasOwnProperty(modelId)) {\n                let modelRecord = this._models[modelId];\n                if (modelRecord.hasChanges) {\n                    modelRecord.hasChanges = false;\n                    updates.push(modelRecord);\n                }\n            }\n        }\n        for (let i = 0, len = updates.length; i < len; i++) {\n            modelUpdateSubject = this._modelUpdateSubjects[updates[i].modelId];\n            if (typeof modelUpdateSubject !== 'undefined') {\n                modelUpdateSubject.onNext(updates[i].model);\n                if(modelUpdateSubject.hasError) {\n                    throw modelUpdateSubject.error;\n                }\n            }\n        }\n    }\n    _getNextModelRecordWithQueuedEvents() {\n        let nextModel;\n        for (let modelId in this._models) {\n            if (this._models.hasOwnProperty(modelId)) {\n                let current = this._models[modelId];\n                if (current.eventQueue.length > 0) {\n                    nextModel = current;\n                    break;\n                }\n            }\n        }\n        return nextModel;\n    }\n    _throwIfHalted() {\n        if (this._state.currentStatus === Status.Halted) {\n            let message = utils.format('Event router halted due to previous error [{0}]', this._haltingException);\n            throw new Error(message);\n        }\n    }\n    _halt(err) {\n        this._state.moveToHalted();\n        _log.error('Router halted error: [{0}]', err);\n        this._haltingException = err;\n        throw err;\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/Router.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport { Guard } from '../system';\n\nclass EventContext {\n    constructor() {\n        this._isCanceled = false;\n        this._isCommitted = false;\n    }\n    get isCanceled() {\n        return this._isCanceled;\n    }\n    get isCommitted() {\n        return this._isCommitted;\n    }\n    cancel() {\n        if(!this._isCanceled) {\n            this._isCanceled = true;\n        } else {\n            throw new Error('event is already cancelled');\n        }\n    }\n    commit() {\n        if(!this._isCommitted) {\n            this._isCommitted = true;\n        } else {\n            throw 'event is already committed';\n        }\n    }\n}\n\nexport default EventContext;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/EventContext.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport disposables from './disposables';\nimport Guard from './Guard';\nimport * as logger from './logger';\nimport * as utils  from './utils'; \nexport default { disposables, Guard, logger, utils };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/index.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport CompositeDisposable from './CompositeDisposable';\nimport DictionaryDisposable from './DictionaryDisposable';\nimport DisposableWrapper from './DisposableWrapper';\nexport default { CompositeDisposable, DictionaryDisposable, DisposableWrapper };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/disposables/index.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Guard from '../Guard';\nimport DisposableWrapper from './DisposableWrapper';\n\nexport default class CompositeDisposable {\n    constructor() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    add(disposable) {\n        var disposableWrapper = new DisposableWrapper(disposable);\n        if(this._isDisposed) {\n            disposableWrapper.dispose();\n            return;\n        }\n        this._disposables.push(disposableWrapper);\n    }\n    dispose() {\n        if(!this._isDisposed) {\n            this._isDisposed = true;\n            for (var i = 0, len = this._disposables.length; i < len; i++) {\n                var disposable = this._disposables[i];\n                disposable.dispose();\n            }\n            this._disposables.length = 0;\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/disposables/CompositeDisposable.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport * as utils from './utils';\n\nexport default class Guard {\n    static isDefined(value, message) {\n        if (typeof value === 'undefined') {\n            doThrow(message);\n        }\n    }\n    static isFalsey(value, message) {\n        if (value) {\n            doThrow(message);\n        }\n    }\n    static lengthIs(array, length, message) {\n        if (array.length !== length) {\n            doThrow(message);\n        }\n    }\n    static lengthGreaterThan(array, expected, message) {\n        if (array.length < expected) {\n            doThrow(message);\n        }\n    }\n    static lengthIsAtLeast(array, expected, message) {\n        if (array.length < expected) {\n            doThrow(message);\n        }\n    }\n    static isString(value, message) {\n        if (!utils.isString(value)) {\n            doThrow(message);\n        }\n    }\n    static isTrue(check, message) {\n        if (!check) {\n            doThrow(message);\n        }\n    }\n    static isFunction(item, message) {\n        if (typeof(item) != \"function\") {\n            doThrow(message);\n        }\n    }\n    static isNumber(value, message) {\n        if (isNaN(value)) {\n            doThrow(message);\n        }\n    }\n    static isObject(value,message) {\n        if(typeof value !== 'object') {\n            doThrow(message);\n        }\n    }\n}\n\nfunction doThrow(message) {\n    if(typeof message === 'undefined' || message === '') {\n        throw new Error(\"Argument error\");\n    }\n    throw new Error(message);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/Guard.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nexport function removeAll(arr, item) {\n    for(var i = arr.length; i--;) {\n        if(arr[i] === item) {\n            arr.splice(i, 1);\n        }\n    }\n}\n\nexport function isString(value) {\n    return typeof value == 'string' || value instanceof String;\n}\n\nexport function format(formatString) {\n    //Guard.isString(format, \"First argument to a log function should be a string, but got [\" + format + \"]\");\n    var args = Array.prototype.slice.call(arguments, 1);\n    var message = formatString.replace(/{(\\d+)}/g, function (match, number) {\n        return typeof args[number] != 'undefined'\n            ? args[number]\n            : match;\n    });\n    return message;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/utils.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Guard from '../Guard';\n\nexport default class DisposableWrapper {\n    constructor(disposable) {\n        Guard.isDefined(disposable, \"disposable must be defined\");\n        var innerDisposable;\n        if(typeof disposable === 'function') {\n            innerDisposable = { dispose: function() { disposable(); } };\n        } else if(disposable.dispose && typeof disposable.dispose === 'function') {\n            innerDisposable = {\n                dispose: () => {\n                    // at this point if something has deleted the dispose or it's not a function we just ignore it.\n                    if (disposable.dispose && typeof disposable.dispose === 'function') {\n                        disposable.dispose();\n                    }\n                }\n            };\n        } else {\n            throw new Error('Item to dispose was neither a function nor had a dispose method.');\n        }\n        this._isDisposed = false;\n        this._disposable = innerDisposable;\n    }\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    dispose() {\n        if(!this._isDisposed && this._disposable) {\n            this._isDisposed = true;\n            this._disposable.dispose();\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/disposables/DisposableWrapper.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport DisposableWrapper from './DisposableWrapper';\n\nexport default class DictionaryDisposable {\n    constructor() {\n        this._isDisposed = false;\n    }\n    add(key, disposable) {\n        if(this.hasOwnProperty(key)) {\n            throw new Error(\"Key \" + key + \" already found\");\n        }\n        var disposableWrapper = new DisposableWrapper(disposable);\n        if(this._isDisposed) {\n            disposableWrapper.dispose();\n            return;\n        }\n        this[key] = disposableWrapper;\n    }\n    remove(key) {\n        if(this.hasOwnProperty(key)) {\n            delete this[key];\n        }\n    }\n    dispose() {\n       // if(!this._isDisposed) {\n            this._isDisposed = true;\n            for (var p in this) {\n                if (this.hasOwnProperty(p)) {\n                    var disposable = this[p];\n                    if (disposable.dispose) {\n                        disposable.dispose();\n                    }\n                }\n            }\n       // }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/disposables/DictionaryDisposable.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Guard from './Guard';\n\nvar levels = {\n    verbose:0,\n    debug:1,\n    info:2,\n    warn:3,\n    error:4\n};\n\nvar _currentLevel = levels.debug;\n\nvar _sink = logEvent => {\n    console.log('[' + logEvent.logger + '] [' + logEvent.level + ']: ' + logEvent.message);\n};\n\nclass Logger {\n    constructor(name) {\n        this._name = name;\n    }\n\n    verbose(format) {\n        if (_currentLevel <= levels.verbose) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            this._log(\"VERBOSE\", format, args);\n        }\n    }\n\n    debug(format) {\n        if (_currentLevel <= levels.debug) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            this._log(\"DEBUG\", format, args);\n        }\n    }\n\n    info(format) {\n        if (_currentLevel <= levels.info) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            this._log(\"INFO\", format, args);\n        }\n    }\n\n    warn(format) {\n        if (_currentLevel <= levels.warn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            this._log(\"WARN\", format, args);\n        }\n    }\n\n    error(format) {\n        if (_currentLevel <= levels.error) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            this._log(\"ERROR\", format, args);\n        }\n    }\n    _log(level, format, args) {\n        Guard.isString(format, \"First argument to a log function should be a string, but got [\" + format + \"]\");\n        var message = format.replace(/{(\\d+)}/g, function (match, number) {\n            return typeof args[number] != 'undefined'\n                ? args[number]\n                : match;\n        });\n        _sink({\n            logger: this._name,\n            level: level,\n            message: message\n        });\n    }\n}\n\nexport function create(name) {\n    Guard.isDefined(name, \"The name argument should be defined\");\n    Guard.isString(name, \"The name argument should be a string\");\n    return new Logger(name);\n}\n\nexport function setLevel(level) {\n    _currentLevel = level;\n}\n\nexport function setSink(sink) {\n    Guard.isFunction(sink, \"Logging sink argument must be a function\");\n    _sink = sink;\n}\n\nexport { levels };\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/system/logger.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport { Guard } from '../system';\n\nclass ModelRecord {\n    // parentModelId is undefined if it's the root\n    constructor(modelId, model, options) {\n        this._modelId = modelId;\n        this._model = model;\n        this._eventQueue = [];\n        this._hasChanges = false;\n        this._wasRemoved = false;\n        this._runPreEventProcessor = this._createEventProcessor(\"preEventProcessor\", 'preProcess', options ? options.preEventProcessor : undefined);\n        this._runPostEventProcessor = this._createEventProcessor(\"postEventProcessor\", 'postProcess', options ? options.postEventProcessor : undefined);\n    }\n    get modelId() {\n        return this._modelId;\n    }\n    get model() {\n        return this._model;\n    }\n    get eventQueue() {\n        return this._eventQueue;\n    }\n    get hasChanges() {\n        return this._hasChanges;\n    }\n    set hasChanges(value) {\n        this._hasChanges = value;\n    }\n    get wasRemoved() {\n        return this._wasRemoved;\n    }\n    set wasRemoved(value) {\n        this._wasRemoved = value;\n    }\n    get runPreEventProcessor() {\n        return this._runPreEventProcessor;\n    }\n    get runPostEventProcessor() {\n        return this._runPostEventProcessor;\n    }\n    _createEventProcessor(name, modelProcessMethod, externalProcessor) {\n        var externalProcessor1 = () => { /*noop */ };\n        if(typeof externalProcessor !== 'undefined') {\n            if(typeof externalProcessor === 'function') {\n                externalProcessor1 = model => {\n                    externalProcessor(model);\n                };\n            } else if (typeof externalProcessor.process === 'function') {\n                externalProcessor1 = model => {\n                    externalProcessor.process(model);\n                };\n            } else {\n                throw new Error(name + \" on the options parameter is neither a function nor an object with a process() method\");\n            }\n        }\n        var modelProcessor = model => {\n            if(model[modelProcessMethod] && (typeof model[modelProcessMethod] === 'function')) {\n                model[modelProcessMethod]();\n            }\n        };\n        return (model) => {\n            externalProcessor1(model);\n            modelProcessor(model);\n        };\n    }\n}\n\nexport default ModelRecord;\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/ModelRecord.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport { Guard } from '../system';\nimport Status from './Status.js';\n\n// note: perhaps some validation on state transition could be added here, but the tests cover most edges cases already\nexport default class State {\n    constructor() {\n        this._currentStatus = Status.Idle;\n    }\n    get currentStatus() {\n        return this._currentStatus;\n    }\n    get currentModelId() {\n        return this._currentModelId;\n    }\n    get currentModel() {\n        return this._currentModel;\n    }\n    moveToIdle() {\n        this._currentStatus = Status.Idle;\n        this._clear();\n    }\n    moveToPreProcessing(modelId, model) {\n        Guard.isString(modelId, 'The modelId should be a string');\n        Guard.isDefined(model, 'The model should be defined');\n        this._currentModelId = modelId;\n        this._currentModel = model;\n        this._currentStatus = Status.PreEventProcessing;\n    }\n    moveToEventDispatch() {\n        this._currentStatus = Status.EventProcessorDispatch;\n    }\n    moveToPostProcessing() {\n        this._currentStatus = Status.PostProcessing;\n    }\n    executeEvent(executeAction) {\n        var canMove = this._currentStatus === Status.PreEventProcessing || this._currentStatus === Status.EventProcessorDispatch || this._currentStatus === Status.PostProcessing;\n        Guard.isTrue(canMove, 'Can\\'t move to executing as the current state ' + this._currentStatus + ' doesn\\'t allow it');\n        var previousStatus = this._currentStatus;\n        this._currentStatus = Status.EventExecution;\n        executeAction();\n        this._currentStatus = previousStatus;\n    }\n    moveToDispatchModelUpdates() {\n        this._currentStatus = Status.DispatchModelUpdates;\n    }\n    moveToHalted() {\n        this._currentStatus = Status.Halted;\n        this._clear();\n    }\n    _clear() {\n        this._currentModelId = undefined;\n        this._currentModel = undefined;\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/State.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nexport default class Status {\n    static get Idle() { return 'idle'; }\n    static get PreEventProcessing() { return 'preEventProcessorDispatch'; }\n    static get EventProcessorDispatch() { return 'eventProcessorDispatch'; }\n    static get EventExecution() { return 'eventProcessorExecution'; }\n    static get PostProcessing () { return 'postEventProcessorDispatch'; }\n    static get DispatchModelUpdates() { return 'dispatchModelUpdates'; }\n    static get Halted() { return 'halted'; }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/Status.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// notice_end\n\nimport Router from './Router';\nimport { Guard } from '../system';\n\nexport default class SingleModelRouter {\n    constructor() {\n        if(arguments.length === 0) {\n            this._underlying = new Router();\n            this._targetModelId = \"modelId\";\n        } else if(arguments.length === 2 && (arguments[0] instanceof Router)) {\n            this._modelSet = true;\n            this._underlying = arguments[0];\n            this._targetModelId = arguments[1];\n        } else {\n            throw new Error(\"Incorrect usage. SingleModelRouter can take either: no params (in which case you need to call .setModel()), or an existing router and existing modelid.\");\n        }\n    }\n    setModel(model) {\n        Guard.isDefined(model, 'Model passed to setModel() must not be undefined.');\n        Guard.isFalsey(this._modelSet, 'Model is already set.');\n        this._underlying.registerModel(this._targetModelId, model);\n        this._modelSet = true;\n    }\n    publishEvent(eventType, event) {\n        this._ensureModelIsSet();\n        this._underlying.publishEvent(this._targetModelId, eventType, event);\n    }\n    executeEvent(eventType, event) {\n        this._ensureModelIsSet();\n        this._underlying.executeEvent(eventType, event);\n    }\n    runAction(action) {\n        this._ensureModelIsSet();\n        this._underlying.runAction(this._targetModelId, action);\n    }\n    getEventObservable(eventType, stage) {\n        this._ensureModelIsSet();\n        return this._underlying.getEventObservable(this._targetModelId, eventType, stage);\n    }\n    getModelObservable() {\n        this._ensureModelIsSet();\n        return this._underlying.getModelObservable(this._targetModelId);\n    }\n    observeEventsOn(object, methodPrefix='_observe_') {\n        this._ensureModelIsSet();\n        return this._underlying.observeEventsOn(this._targetModelId, object, methodPrefix);\n    }\n    _ensureModelIsSet() {\n        Guard.isTrue(this._modelSet, 'You must call \\'singleModelRouterInstance.setModel(model)\\' before interacting with the router');\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/router/SingleModelRouter.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\n// these scripts have no exports, they add functionality to Observable\nimport './extMethods/where';\nimport './extMethods/asObservable';\nimport './extMethods/take';\nimport './extMethods/do';\n\nexport { default as Observable } from './Observable';\nexport { default as Observer } from './Observer';\nexport { default as Subject } from './Subject';\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/index.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Observable from '../Observable';\nimport { Guard } from '../../system';\n\nObservable.prototype.where = function(predicate) {\n    Guard.isDefined(predicate, 'predicate Required');\n    var source = this;\n    var observe =  observer => {\n        return source.observe(\n            (arg1, arg2, arg3) => {\n                if(predicate(arg1, arg2, arg3)) {\n                    observer.onNext(arg1, arg2, arg3);\n                }\n            },\n            observer.onError.bind(observer),\n            () => observer.onCompleted()\n        );\n    };\n    return new Observable(observe);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/extMethods/where.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport { Guard } from '../system';\nimport Observer from './Observer';\n\nclass Observable {\n    static create(onObserve) {\n        Guard.lengthIs(arguments, 1, \"Incorrect argument count on Observable, expect 1 onObserve function\");\n        var observe =  observer => {\n            return onObserve(observer);\n        };\n        return new Observable(observe);\n    }\n    constructor(observe) {\n        this._observe = observe;\n    }\n    observe() {\n        var observer;\n        if(arguments.length === 1 && arguments[0] instanceof Observer) {\n            observer = arguments[0];\n        } else {\n            Guard.lengthIsAtLeast(arguments, 1, \"Incorrect args count of \" + arguments.length);\n            var onNext = arguments[0];\n            var onError = arguments.length >= 1 ? arguments[1] : undefined;\n            var onCompleted = arguments.length >= 2 ? arguments[2] : undefined;\n            observer = new Observer(onNext, onError, onCompleted);\n        }\n        Guard.isDefined(this._observe, '_observe not set');\n        return this._observe(observer);\n    }\n}\n\nexport default Observable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/Observable.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport { Guard } from '../system';\n\nclass Observer {\n    constructor(onNext, onError, onCompleted) {\n        Guard.isDefined(onNext, 'onObserve Required');\n        this._hasError = false;\n        this._hasCompleted = false;\n        this._onNext = onNext;\n        this._onError = (ex) => {\n            if(typeof onError === 'undefined' || typeof onError !== 'function') {\n                throw ex; // we default to re-throwing if there is no error handler provide\n            }\n            else {\n                onError(ex);\n            }\n        };\n        this._onCompleted = () => {\n            if(typeof onCompleted !== 'undefined' && typeof onCompleted === 'function') {\n                onCompleted();\n            }\n        };\n    }\n    onNext(arg1, arg2, arg3) {\n        if(!this._hasError && !this._hasCompleted) {\n            this._onNext(arg1, arg2, arg3);\n        }\n    }\n    onError(value) {\n        if(!this._hasError) {\n            this._hasError = true;\n            this._onError(value);\n        }\n    }\n    onCompleted() {\n        if(!this._hasCompleted) {\n            this._hasCompleted = true;\n            this._onCompleted();\n        }\n    }\n}\nexport default Observer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/Observer.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Observable from '../Observable';\n\nObservable.prototype.asObservable = function() {\n    var source = this;\n    var observe =  observer => {\n        return source.observe(\n            (arg1, arg2, arg3) => {\n                observer.onNext(arg1, arg2, arg3);\n            },\n            observer.onError.bind(observer),\n            () => observer.onCompleted()\n        );\n    };\n    return new Observable(observe);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/extMethods/asObservable.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Observable from '../Observable';\nimport { Guard } from '../../system';\n\n// TODO beta, needs test\nObservable.prototype.take = function(number) {\n    Guard.isNumber(number, \"provided value isn't a number\");\n    var source = this;\n    var itemsReceived = 0;\n    var hasCompleted = false;\n    var observe =  observer => {\n        return source.observe(\n            (arg1, arg2, arg3) => {\n                // there is possibly some strange edge cases if the observer also pumps a new value, this 'should' cover that (no tests yet)\n                itemsReceived++;\n                var shouldYield = !number || itemsReceived <= number;\n                if(shouldYield) {\n                    observer.onNext(arg1, arg2, arg3);\n                }\n                var shouldComplete = !number || itemsReceived >= number;\n                if(!hasCompleted && shouldComplete) {\n                    hasCompleted = true;\n                    observer.onCompleted();\n                }\n            },\n            observer.onError.bind(observer),\n            () => observer.onCompleted()\n        );\n    };\n    return new Observable(observe);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/extMethods/take.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport Observable from '../Observable';\nimport { Guard } from '../../system';\n\n// TODO beta, needs test\nObservable.prototype.do = function(action) {\n    Guard.isFunction(action, \"provided value isn't a function\");\n    var source = this;\n    var observe =  observer => {\n        return source.observe(\n            (arg1, arg2, arg3) => {\n                action(arg1, arg2, arg3);\n                observer.onNext(arg1, arg2, arg3);\n            },\n            observer.onError.bind(observer),\n            () => observer.onCompleted()\n        );\n    };\n    return new Observable(observe);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/extMethods/do.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport { utils } from '../system';\nimport Observable from './Observable';\n\nclass Subject extends Observable  {\n    constructor() {\n        super(undefined);\n        this._observe = observe.bind(this);\n        this._observers = [];\n        this._hasComplete = false;\n        this._hasError = false;\n    }\n    get hasError() {\n        return this._hasError;\n    }\n    get error() {\n        return this._error;\n    }\n    // The reactivate implementation can push 3 arguments through the stream, initially this was setup to\n    // pass all arguments using .apply, however it's performance is about 40% slower than direct method calls\n    // given this, and that we only ever push a max of 3 args, it makes sense to hard code them.\n    onNext(arg1, arg2, arg3) {\n        if(!this._hasComplete) {\n            var os = this._observers.slice(0);\n            for (var i = 0, len = os.length; i < len; i++) {\n                if(this._hasError) break;\n                var observer = os[i];\n                try {\n                    observer.onNext(arg1, arg2, arg3);\n                } catch (err) {\n                    this._hasError = true;\n                    this._error = err;\n                    observer.onError(err);\n                }\n            }\n        }\n    }\n    onCompleted() {\n        if(!this._hasComplete && !this._hasError) {\n            this._hasComplete = true;\n            var os = this._observers.slice(0);\n            for (var i = 0, len = os.length; i < len; i++) {\n                var observer = os[i];\n                observer.onCompleted();\n            }\n        }\n    }\n    onError(err) {\n        if(!this._hasError) {\n            this._hasError = true;\n            var os = this._observers.slice(0);\n            for (var i = 0, len = os.length; i < len; i++) {\n                var observer = os[i];\n                observer.onError(err);\n            }\n        }\n    }\n    getObserverCount() {\n        return this._observers.length;\n    }\n}\nfunction observe(observer) {\n    /*jshint validthis:true */\n    this._observers.push(observer);\n    return {\n        dispose: () => {\n            utils.removeAll(this._observers, observer);\n        }\n    };\n}\nexport default Subject;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/reactive/Subject.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport AsyncWorkCompleteEvent from './AsyncWorkCompleteEvent';\nimport ModelChangedEvent from './ModelChangedEvent';\nexport default { AsyncWorkCompleteEvent, ModelChangedEvent };\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/events/index.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nclass AsyncWorkCompleteEvent {\n    constructor(operationId, results, isFinished) {\n        this._operationId = operationId;\n        this._results = results;\n        this._isFinished = isFinished;\n    }\n    get operationId() {\n        return this._operationId;\n    }\n    get results() {\n        return this._results;\n    }\n    get isFinished() {\n        return this._isFinished;\n    }\n}\nexport default AsyncWorkCompleteEvent;\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/events/AsyncWorkCompleteEvent.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nclass ModelChangedEvent {\n    constructor(modelId, eventType) {\n        this._modelId = modelId;\n        this._eventType = eventType;\n    }\n    get modelId() {\n        return this._modelId;\n    }\n    get eventType() {\n        return this._eventType;\n    }\n}\nexport default ModelChangedEvent;\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/events/ModelChangedEvent.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport events from './events';\nimport DisposableBase from './DisposableBase';\nimport ModelBase from './ModelBase';\nimport ModelRootBase from './ModelRootBase';\nexport default { events, DisposableBase, ModelBase, ModelRootBase};\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/index.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport system from '../system';\n\nclass DisposableBase {\n    constructor() {\n        this._disposables = new system.disposables.CompositeDisposable();\n    }\n    get isDisposed() {\n        return this._disposables.isDisposed;\n    }\n    addDisposable (disposable) {\n        this._disposables.add(disposable);\n    }\n    dispose () {\n        this._disposables.dispose();\n    }\n}\nexport default DisposableBase;\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/DisposableBase.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\n/**\n * A base class for model entities.\n *\n * You don't need to derive from this to use the router, provided as a convenience\n */\nclass ModelBase {\n    constructor() {\n        this._checkIsLocked = () => true;\n    }\n    ensureLocked() {\n        if(this._checkIsLocked()) {\n            throw new Error(\"Model is locked, can't edit\");\n        }\n    }\n    get isLocked() {\n        return this._checkIsLocked();\n    }\n}\nexport default ModelBase;\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/ModelBase.js\n **/","// notice_start\n/*\n * Copyright 2015 Keith Woods\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n // notice_end\n\nimport ModelBase from './ModelBase';\n\n/**\n * A base class for the root model entity.\n *\n * You don't need to derive from this to use the router, provided as a convenience\n */\nclass ModelRootBase extends ModelBase {\n    constructor() {\n        super();\n        this._isLocked = true;\n        this._checkIsLocked = (function(){\n            return this._isLocked;\n        }).bind(this);\n    }\n    lock() {\n        this._isLocked = true;\n    }\n    unlock() {\n        this._isLocked = false;\n    }\n    bindLockPredicate() {\n        this._bindLockPredicate(this);\n    }\n    _bindLockPredicate(parent) {\n        parent = parent || this;\n        for (var key in parent) {\n            if(parent.hasOwnProperty(key)) {\n                var o = parent[key];\n                if (o instanceof ModelBase) {\n                    o._checkIsLocked = this._checkIsLocked;\n                    this._bindLockPredicate(o);\n                }\n            }\n        }\n    }\n}\n\nexport default ModelRootBase;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/model/ModelRootBase.js\n **/"],"sourceRoot":""}